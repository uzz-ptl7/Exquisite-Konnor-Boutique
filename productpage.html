<!-- Save this as productpage.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Products | ExquisiteKonnor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .bg-darkgray {
            background-color: #1e1e1e;
        }

        .skeleton {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.1) 50%,
                    rgba(255, 255, 255, 0.05) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite linear;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }

            100% {
                background-position: 200% 0;
            }
        }

        .active {
            background-color: #9333ea;
            color: white;
        }
    </style>
</head>

<body class="bg-black text-white font-sans">
    <div class="flex flex-col md:flex-row h-screen overflow-hidden">

        <!-- Sidebar -->
        <aside class="md:w-64 bg-darkgray p-4 overflow-y-auto">
            <h2 class="text-purple-500 text-xl font-bold mb-4">Categories</h2>
            <ul id="categoryList" class="space-y-2"></ul>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 overflow-y-auto">
            <h1 class="text-2xl font-bold mb-4 text-purple-500">All Products</h1>
            <div id="subcategoryButtons" class="flex flex-wrap gap-2 mb-6"></div>
            <div id="productGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </main>
    </div>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50 p-4">
        <div
            class="bg-darkgray rounded-lg max-w-md w-full p-6 relative border border-purple-500 shadow-lg transition hover:shadow-xl hover:border-purple-400 text-white">
            <button onclick="closeModal()"
                class="absolute top-2 right-2 text-white text-3xl leading-none hover:text-purple-500">&times;</button>
            <img id="modalProductImage" class="w-full h-48 object-cover mb-4 rounded" alt="Product Image">
            <h2 id="modalProductName" class="text-xl font-semibold mb-2"></h2>
            <textarea id="modalMessage" placeholder="Message"
                class="w-full p-2 border border-purple-500 rounded mb-4 bg-black text-white resize-none"></textarea>
            <div class="flex gap-4">
                <button onclick="sendViaWhatsApp()"
                    class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">WhatsApp</button>
                <button onclick="sendViaEmail()"
                    class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600">Email</button>
            </div>
        </div>
    </div>

    <script>
        const categories = {
            "Clothing": {
                quantity: 12, subcategories: [
                    "T-Shirts", "Shirts", "Sweatshirts & Hoodies", "Sweaters", "Vests",
                    "Jeans", "Trousers", "Shorts", "Jackets", "Coats", "Blazers", "Suits"
                ]
            },
            "Footwear": {
                quantity: 4, subcategories: [
                    "Sneakers", "Boots", "Loafers", "Sandals & Slides"
                ]
            },
            "Accessories": {
                quantity: 6, subcategories: [
                    "Watches", "Sunglasses", "Hats & Caps", "Belts", "Ties", "Wallets"
                ]
            },
            "Grooming & Fragrance": {
                quantity: 2, subcategories: [
                    "Perfumes & Colognes", "Deodorants & Body Sprays"
                ]
            }
        };

        const products = [
            { name: "Basic T-Shirt", category: "Clothing", subcategory: "T-Shirts", price: "$19.99", image: "assets/tshirt.jpg" },
            { name: "Leather Jacket", category: "Clothing", subcategory: "Jackets", price: "$149.99", image: "assets/jacket.jpg" },
            { name: "Slim Fit Jeans", category: "Clothing", subcategory: "Jeans", price: "$69.99", image: "assets/jeans.jpg" },
            { name: "Sneakers", category: "Footwear", subcategory: "Sneakers", price: "$89.99", image: "assets/sneakers.jpg" },
            { name: "Loafers", category: "Footwear", subcategory: "Loafers", price: "$74.99", image: "assets/loafers.jpg" },
            { name: "Luxury Cologne", category: "Grooming & Fragrance", subcategory: "Perfumes & Colognes", price: "$59.99", image: "assets/perfume.jpg" },
            { name: "Leather Belt", category: "Accessories", subcategory: "Belts", price: "$29.99", image: "assets/belt.jpg" },
            { name: "Sunglasses", category: "Accessories", subcategory: "Sunglasses", price: "$39.99", image: "assets/sunglasses.jpg" }
        ];

        const contact = {
            whatsapp: "250738019704",
            email: "your@email.com"
        };

        function renderCategories() {
            const list = document.getElementById("categoryList");
            list.innerHTML = "";
            for (const cat in categories) {
                const li = document.createElement("li");
                li.className = "p-3 bg-gray-800 rounded cursor-pointer hover:bg-purple-500 transition";
                li.innerHTML = `<strong>${cat}</strong><br><span class="text-sm text-gray-400">${categories[cat].quantity} items</span>`;
                li.onclick = () => loadProducts(cat);
                list.appendChild(li);
            }
        }

        function renderSubcategories(category) {
            const subBtns = document.getElementById("subcategoryButtons");
            subBtns.innerHTML = "";
            categories[category].subcategories.forEach(sub => {
                const btn = document.createElement("button");
                btn.className = "bg-darkgray text-white px-4 py-2 rounded hover:bg-purple-500 transition";
                btn.textContent = sub;
                btn.dataset.subcategory = sub;
                btn.onclick = () => loadProducts(category, sub);
                subBtns.appendChild(btn);
            });
        }

        function loadProducts(category = null, subcategory = null) {
            document.querySelectorAll(".active").forEach(e => e.classList.remove("active"));
            if (subcategory) document.querySelector(`[data-subcategory='${subcategory}']`)?.classList.add("active");

            const grid = document.getElementById("productGrid");
            grid.innerHTML = "<div class='skeleton w-full h-32 rounded-md'></div>".repeat(6);

            setTimeout(() => {
                grid.innerHTML = "";
                let filtered = category ? products.filter(p => p.category === category && (!subcategory || p.subcategory === subcategory)) : products;
                if (category && !subcategory) renderSubcategories(category);
                if (filtered.length === 0) {
                    grid.innerHTML = "<p class='text-gray-400'>No products available.</p>";
                    return;
                }
                filtered.forEach(p => {
                    const card = document.createElement("div");
                    card.className = "bg-darkgray p-4 rounded-lg shadow-md border border-purple-500 transition hover:shadow-lg hover:border-purple-400";
                    card.innerHTML = `
                        <img src="${p.image}" alt="${p.name}" class="w-full h-48 object-cover mb-2 rounded">
                        <h3 class="text-xl font-semibold">${p.name}</h3>
                        <p class="text-purple-400 mb-2">${p.price}</p>
                        <button onclick="openModal('${p.name}', '${p.image}')" class="bg-purple-500 w-full p-2 rounded hover:bg-purple-600 transition">Inquire</button>
                    `;
                    grid.appendChild(card);
                });
            }, 600);
        }

        function openModal(name, image) {
            document.getElementById("modalProductName").textContent = name;
            document.getElementById("modalProductImage").src = image;
            document.getElementById("modalMessage").value = "";
            document.getElementById("modal").classList.remove("hidden");
        }

        function closeModal() {
            document.getElementById("modal").classList.add("hidden");
        }

        function sendViaWhatsApp() {
            const message = document.getElementById("modalMessage").value;
            const product = document.getElementById("modalProductName").textContent;
            const url = `https://wa.me/${contact.whatsapp}?text=${encodeURIComponent("Product: " + product + "\n\n" + message)}`;
            window.open(url, "_blank");
        }

        function sendViaEmail() {
            const message = document.getElementById("modalMessage").value;
            const product = document.getElementById("modalProductName").textContent;
            const url = `mailto:${contact.email}?subject=${encodeURIComponent("Inquiry: " + product)}&body=${encodeURIComponent(message)}`;
            window.location.href = url;
        }

        renderCategories();
        loadProducts();
    </script>
</body>

</html>